<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>dream</title><meta name="description" content="Documentation for dream"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/search.js" id="tsd-search-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os"</script><header class="tsd-page-toolbar">
<div class="tsd-toolbar-contents container">
<div class="table-cell" id="tsd-search" data-base=".">
<div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M15.7824 13.833L12.6666 10.7177C12.5259 10.5771 12.3353 10.499 12.1353 10.499H11.6259C12.4884 9.39596 13.001 8.00859 13.001 6.49937C13.001 2.90909 10.0914 0 6.50048 0C2.90959 0 0 2.90909 0 6.49937C0 10.0896 2.90959 12.9987 6.50048 12.9987C8.00996 12.9987 9.39756 12.4863 10.5008 11.6239V12.1332C10.5008 12.3332 10.5789 12.5238 10.7195 12.6644L13.8354 15.7797C14.1292 16.0734 14.6042 16.0734 14.8948 15.7797L15.7793 14.8954C16.0731 14.6017 16.0731 14.1267 15.7824 13.833ZM6.50048 10.499C4.29094 10.499 2.50018 8.71165 2.50018 6.49937C2.50018 4.29021 4.28781 2.49976 6.50048 2.49976C8.71001 2.49976 10.5008 4.28708 10.5008 6.49937C10.5008 8.70852 8.71314 10.499 6.50048 10.499Z" fill="var(--color-text)"></path></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div>
<div class="field">
<div id="tsd-toolbar-links"></div></div>
<ul class="results">
<li class="state loading">Preparing search index...</li>
<li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">dream</a></div>
<div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><rect x="1" y="3" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="7" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="11" width="14" height="2" fill="var(--color-text)"></rect></svg></a></div></div></header>
<div class="container container-main">
<div class="col-content">
<div class="tsd-page-title">
<h2>dream</h2></div>
<div class="tsd-panel tsd-typography"><a id="md:dream-orm" class="tsd-anchor"></a><h1><a href="#md:dream-orm">dream ORM</a></h1><p>The dream ORM is an ORM inspired heavily by the <a href="https://guides.rubyonrails.org/active_record_querying.html">Ruby on Rails Active Record</a> pattern, and was designed predominantly as a tool to help migrate PlateJoy&#39;s app ecosystem from ruby to node. In the search for a comprehensive ORM in node that maintains the depth and necessary features provided by rails, we have decided to write our own, written on a <a href="https://github.com/kysely-org/kysely">very powerful, safely type-guarded query builder called kysely</a>.</p>
<p>Using this library as our query building engine, we have stacked a comprehensive ORM layer on top to provide a rich set of features, of which will be predominantly used in the psychic web framework, also being developed and inspired by the Ruby on Rails web framework.</p>
<a id="md:getting-started" class="tsd-anchor"></a><h2><a href="#md:getting-started">Getting started</a></h2><a id="md:install-nodenv" class="tsd-anchor"></a><h3><a href="#md:install-nodenv">Install <code>nodenv</code></a></h3><p>In order to use dream, you must be using node = 18.15.0. A <code>.node-version</code> file exists at the root of this repo to flag the node version, but it will not work unless <code>nodenv</code> has been correctly installed on your machine.</p>
<a id="md:add-env-files" class="tsd-anchor"></a><h3><a href="#md:add-env-files">Add ENV files</a></h3><p>make sure to add the following files to the root of the project:</p>
<pre><code><span class="hl-0"># .</span><span class="hl-1">env</span><br/><span class="hl-2">DREAM_CORE_DEVELOPMENT</span><span class="hl-0">=</span><span class="hl-3">1</span><br/><span class="hl-2">DB_USER</span><span class="hl-0">=</span><span class="hl-2">YOUR_PG_USERNAME</span><br/><span class="hl-2">DB_NAME</span><span class="hl-0">=</span><span class="hl-1">dream_core_dev</span><br/><span class="hl-2">DB_PORT</span><span class="hl-0">=</span><span class="hl-3">5432</span><br/><span class="hl-2">DB_HOST</span><span class="hl-0">=</span><span class="hl-1">localhost</span>
</code><button>Copy</button></pre>
<pre><code><span class="hl-0"># .</span><span class="hl-1">env</span><span class="hl-0">.</span><span class="hl-1">test</span><br/><span class="hl-2">DREAM_CORE_DEVELOPMENT</span><span class="hl-0">=</span><span class="hl-3">1</span><br/><span class="hl-2">DB_USER</span><span class="hl-0">=</span><span class="hl-2">YOUR_PG_USERNAME</span><br/><span class="hl-2">DB_NAME</span><span class="hl-0">=</span><span class="hl-1">dream_core_test</span><br/><span class="hl-2">DB_PORT</span><span class="hl-0">=</span><span class="hl-3">5432</span><br/><span class="hl-2">DB_HOST</span><span class="hl-0">=</span><span class="hl-1">localhost</span>
</code><button>Copy</button></pre>
<a id="md:build-db-and-sync-schema" class="tsd-anchor"></a><h3><a href="#md:build-db-and-sync-schema">Build db and sync schema</a></h3><pre><code class="language-bash"><span class="hl-0">yarn </span><span class="hl-4">install</span><br/><span class="hl-0">yarn </span><span class="hl-4">dream</span><span class="hl-0"> </span><span class="hl-4">db:create</span><span class="hl-0"> </span><span class="hl-4">--core</span><br/><span class="hl-0">yarn </span><span class="hl-4">dream</span><span class="hl-0"> </span><span class="hl-4">db:migrate</span><span class="hl-0"> </span><span class="hl-4">--core</span><br/><span class="hl-1">NODE_ENV</span><span class="hl-0">=</span><span class="hl-4">test</span><span class="hl-0"> yarn dream db:create --core</span><br/><span class="hl-1">NODE_ENV</span><span class="hl-0">=</span><span class="hl-4">test</span><span class="hl-0"> yarn dream db:migrate --core</span>
</code><button>Copy</button></pre>
<a id="md:features" class="tsd-anchor"></a><h2><a href="#md:features">Features</a></h2><p>The dream ORM features:</p>
<ul>
<li>static query building engine</li>
</ul>
<pre><code class="language-ts"><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-2">records</span><span class="hl-0"> = </span><span class="hl-6">await</span><span class="hl-0"> </span><span class="hl-1">User</span><span class="hl-0">.</span><span class="hl-7">where</span><span class="hl-0">({ </span><span class="hl-1">email:</span><span class="hl-0"> </span><span class="hl-4">&#39;fred@fred&#39;</span><span class="hl-0"> }).</span><span class="hl-7">all</span><span class="hl-0">()</span><br/><span class="hl-8">// User[]</span><br/><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-2">user</span><span class="hl-0"> = </span><span class="hl-6">await</span><span class="hl-0"> </span><span class="hl-1">User</span><span class="hl-0">.</span><span class="hl-7">where</span><span class="hl-0">({ </span><span class="hl-1">email:</span><span class="hl-0"> </span><span class="hl-4">&#39;fred@fred&#39;</span><span class="hl-0"> }).</span><span class="hl-7">first</span><span class="hl-0">()</span><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-2">user</span><span class="hl-0"> = </span><span class="hl-6">await</span><span class="hl-0"> </span><span class="hl-1">User</span><span class="hl-0">.</span><span class="hl-7">where</span><span class="hl-0">({ </span><span class="hl-1">email:</span><span class="hl-0"> </span><span class="hl-4">&#39;fred@fred&#39;</span><span class="hl-0"> }).</span><span class="hl-7">last</span><span class="hl-0">()</span><br/><span class="hl-8">// User | null</span><br/><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-2">user</span><span class="hl-0"> = </span><span class="hl-6">await</span><span class="hl-0"> </span><span class="hl-1">User</span><span class="hl-0">.</span><span class="hl-7">where</span><span class="hl-0">({ </span><span class="hl-1">email:</span><span class="hl-0"> </span><span class="hl-1">ops</span><span class="hl-0">.</span><span class="hl-7">like</span><span class="hl-0">(</span><span class="hl-4">&#39;%fred@%&#39;</span><span class="hl-0">) })</span><br/><span class="hl-0">  .</span><span class="hl-7">order</span><span class="hl-0">(</span><span class="hl-4">&#39;id&#39;</span><span class="hl-0">, </span><span class="hl-4">&#39;desc&#39;</span><span class="hl-0">)</span><br/><span class="hl-0">  .</span><span class="hl-7">limit</span><span class="hl-0">(</span><span class="hl-3">3</span><span class="hl-0">)</span><br/><span class="hl-0">  .</span><span class="hl-7">all</span><span class="hl-0">()</span><br/><br/><span class="hl-8">// User[]</span>
</code><button>Copy</button></pre>
<ul>
<li>model hooks<ul>
<li>before create</li>
<li>before update</li>
<li>before delete</li>
<li>before save</li>
<li>after create</li>
<li>after update</li>
<li>after delete</li>
<li>after save</li>
</ul>
</li>
</ul>
<pre><code class="language-ts"><span class="hl-8">// models/composition.ts</span><br/><br/><span class="hl-5">class</span><span class="hl-0"> </span><span class="hl-9">Composition</span><span class="hl-0"> {</span><br/><span class="hl-0">  ...</span><br/><span class="hl-0">  @</span><span class="hl-7">BeforeCreate</span><span class="hl-0">()</span><br/><span class="hl-0">  </span><span class="hl-5">public</span><span class="hl-0"> </span><span class="hl-7">setDefaultContent</span><span class="hl-0">() {</span><br/><span class="hl-0">    </span><span class="hl-6">if</span><span class="hl-0"> (!</span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">content</span><span class="hl-0">) </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">content</span><span class="hl-0"> = </span><span class="hl-4">&#39;default content&#39;</span><br/><span class="hl-0">  }</span><br/><br/><span class="hl-0">  @</span><span class="hl-7">AfterCreate</span><span class="hl-0">()</span><br/><span class="hl-0">  </span><span class="hl-5">public</span><span class="hl-0"> </span><span class="hl-7">conditionallyChangeContentOnCreate</span><span class="hl-0">() {</span><br/><span class="hl-0">    </span><span class="hl-6">if</span><span class="hl-0"> (</span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">content</span><span class="hl-0"> === </span><span class="hl-4">&#39;change me after create&#39;</span><span class="hl-0">) </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">content</span><span class="hl-0"> = </span><span class="hl-4">&#39;changed after create&#39;</span><br/><span class="hl-0">  }</span><br/><br/><span class="hl-0">  @</span><span class="hl-7">AfterUpdate</span><span class="hl-0">()</span><br/><span class="hl-0">  </span><span class="hl-5">public</span><span class="hl-0"> </span><span class="hl-7">conditionallyChangeContentOnUpdate</span><span class="hl-0">() {</span><br/><span class="hl-0">    </span><span class="hl-6">if</span><span class="hl-0"> (</span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">content</span><span class="hl-0"> === </span><span class="hl-4">&#39;change me after update&#39;</span><span class="hl-0">) </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">content</span><span class="hl-0"> = </span><span class="hl-4">&#39;changed after update&#39;</span><br/><span class="hl-0">  }</span><br/><br/><span class="hl-0">  @</span><span class="hl-7">AfterSave</span><span class="hl-0">()</span><br/><span class="hl-0">  </span><span class="hl-5">public</span><span class="hl-0"> </span><span class="hl-7">conditionallyChangeContentOnSave</span><span class="hl-0">() {</span><br/><span class="hl-0">    </span><span class="hl-6">if</span><span class="hl-0"> (</span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">content</span><span class="hl-0"> === </span><span class="hl-4">&#39;change me after save&#39;</span><span class="hl-0">) </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-1">content</span><span class="hl-0"> = </span><span class="hl-4">&#39;changed after save&#39;</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">  ...</span><br/><span class="hl-0">}</span>
</code><button>Copy</button></pre>
<ul>
<li>validations<ul>
<li>presence</li>
<li>length{min, max}</li>
<li>contains{string | regex}</li>
</ul>
</li>
</ul>
<pre><code class="language-ts"><span class="hl-6">export</span><span class="hl-0"> </span><span class="hl-6">default</span><span class="hl-0"> </span><span class="hl-5">class</span><span class="hl-0"> </span><span class="hl-9">User</span><span class="hl-0"> </span><span class="hl-5">extends</span><span class="hl-0"> </span><span class="hl-9">Dream</span><span class="hl-0"> {</span><br/><span class="hl-0">  ...</span><br/><span class="hl-0">  @</span><span class="hl-7">Validates</span><span class="hl-0">(</span><span class="hl-4">&#39;contains&#39;</span><span class="hl-0">, </span><span class="hl-4">&#39;@&#39;</span><span class="hl-0">)</span><br/><span class="hl-0">  @</span><span class="hl-7">Validates</span><span class="hl-0">(</span><span class="hl-4">&#39;presence&#39;</span><span class="hl-0">)</span><br/><span class="hl-0">  </span><span class="hl-5">public</span><span class="hl-0"> </span><span class="hl-1">email</span><span class="hl-0">: </span><span class="hl-9">string</span><br/><br/><span class="hl-0">  @</span><span class="hl-7">Validates</span><span class="hl-0">(</span><span class="hl-4">&#39;length&#39;</span><span class="hl-0">, { </span><span class="hl-1">min:</span><span class="hl-0"> </span><span class="hl-3">4</span><span class="hl-0">, </span><span class="hl-1">max:</span><span class="hl-0"> </span><span class="hl-3">18</span><span class="hl-0"> })</span><br/><span class="hl-0">  </span><span class="hl-5">public</span><span class="hl-0"> </span><span class="hl-1">password</span><span class="hl-0">: </span><span class="hl-9">string</span><br/><span class="hl-0">  ...</span><br/><span class="hl-0">}</span>
</code><button>Copy</button></pre>
<ul>
<li><p>associations</p>
<ul>
<li>belongs to</li>
<li>has one</li>
<li>has many</li>
<li>has one through</li>
<li>has many through</li>
<li>has one through (nested indefinitely)</li>
<li>has many through (nested indefinitely)</li>
</ul>
</li>
</ul>
<pre><code class="language-ts"><span class="hl-8">// models/user.ts</span><br/><span class="hl-5">class</span><span class="hl-0"> </span><span class="hl-9">User</span><span class="hl-0"> {</span><br/><span class="hl-0">  ...</span><br/><span class="hl-0">  @</span><span class="hl-7">HasMany</span><span class="hl-0">(</span><span class="hl-4">&#39;compositions&#39;</span><span class="hl-0">, () </span><span class="hl-5">=&gt;</span><span class="hl-0"> </span><span class="hl-1">Composition</span><span class="hl-0">)</span><br/><span class="hl-0">  </span><span class="hl-5">public</span><span class="hl-0"> </span><span class="hl-1">compositions</span><span class="hl-0">: </span><span class="hl-9">Composition</span><span class="hl-0">[]</span><br/><br/><span class="hl-0">  @</span><span class="hl-7">HasOne</span><span class="hl-0">(</span><span class="hl-4">&#39;compositions&#39;</span><span class="hl-0">, () </span><span class="hl-5">=&gt;</span><span class="hl-0"> </span><span class="hl-1">Composition</span><span class="hl-0">)</span><br/><span class="hl-0">  </span><span class="hl-5">public</span><span class="hl-0"> </span><span class="hl-1">mainComposition</span><span class="hl-0">: </span><span class="hl-9">Composition</span><br/><br/><span class="hl-0">  @</span><span class="hl-7">HasMany</span><span class="hl-0">(</span><span class="hl-4">&#39;composition_assets&#39;</span><span class="hl-0">, () </span><span class="hl-5">=&gt;</span><span class="hl-0"> </span><span class="hl-1">CompositionAsset</span><span class="hl-0">, {</span><br/><span class="hl-0">    </span><span class="hl-1">through:</span><span class="hl-0"> </span><span class="hl-4">&#39;compositions&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">  })</span><br/><span class="hl-0">  </span><span class="hl-5">public</span><span class="hl-0"> </span><span class="hl-1">compositionAssets</span><span class="hl-0">: </span><span class="hl-9">CompositionAsset</span><span class="hl-0">[]</span><br/><span class="hl-0">}</span><br/><br/><span class="hl-8">// models/composition.ts</span><br/><span class="hl-6">export</span><span class="hl-0"> </span><span class="hl-6">default</span><span class="hl-0"> </span><span class="hl-5">class</span><span class="hl-0"> </span><span class="hl-9">Composition</span><span class="hl-0"> </span><span class="hl-5">extends</span><span class="hl-0"> </span><span class="hl-9">Dream</span><span class="hl-0"> {</span><br/><span class="hl-0">  ...</span><br/><span class="hl-0">  @</span><span class="hl-7">BelongsTo</span><span class="hl-0">(</span><span class="hl-4">&#39;users&#39;</span><span class="hl-0">, () </span><span class="hl-5">=&gt;</span><span class="hl-0"> </span><span class="hl-1">User</span><span class="hl-0">)</span><br/><span class="hl-0">  </span><span class="hl-5">public</span><span class="hl-0"> </span><span class="hl-1">user</span><span class="hl-0">: </span><span class="hl-9">User</span><br/><span class="hl-0">}</span><br/><br/><span class="hl-8">// models/composition-asset.ts</span><br/><span class="hl-6">export</span><span class="hl-0"> </span><span class="hl-6">default</span><span class="hl-0"> </span><span class="hl-5">class</span><span class="hl-0"> </span><span class="hl-9">CompositionAsset</span><span class="hl-0"> </span><span class="hl-5">extends</span><span class="hl-0"> </span><span class="hl-9">Dream</span><span class="hl-0"> {</span><br/><span class="hl-0">  ...</span><br/><span class="hl-0">  @</span><span class="hl-7">BelongsTo</span><span class="hl-0">(</span><span class="hl-4">&#39;compositions&#39;</span><span class="hl-0">, () </span><span class="hl-5">=&gt;</span><span class="hl-0"> </span><span class="hl-1">Composition</span><span class="hl-0">)</span><br/><span class="hl-0">  </span><span class="hl-5">public</span><span class="hl-0"> </span><span class="hl-1">composition</span><span class="hl-0">: </span><span class="hl-9">Composition</span><br/><span class="hl-0">  ...</span><br/><span class="hl-0">}</span><br/><br/>
</code><button>Copy</button></pre>
<ul>
<li><p>scopes</p>
<ul>
<li>named</li>
<li>default</li>
</ul>
</li>
<li><p>single table inheritance</p>
</li>
</ul>
<pre><code class="language-ts"><span class="hl-5">class</span><span class="hl-0"> </span><span class="hl-9">User</span><span class="hl-0"> {</span><br/><span class="hl-0">  @</span><span class="hl-7">Scope</span><span class="hl-0">()</span><br/><span class="hl-0">  </span><span class="hl-5">public</span><span class="hl-0"> </span><span class="hl-5">static</span><span class="hl-0"> </span><span class="hl-7">withFunnyName</span><span class="hl-0">(</span><span class="hl-1">query</span><span class="hl-0">: </span><span class="hl-9">any</span><span class="hl-0">) {</span><br/><span class="hl-0">    </span><span class="hl-6">return</span><span class="hl-0"> </span><span class="hl-1">query</span><span class="hl-0">.</span><span class="hl-7">where</span><span class="hl-0">({ </span><span class="hl-1">name:</span><span class="hl-0"> </span><span class="hl-4">&#39;Chalupas jr&#39;</span><span class="hl-0"> })</span><br/><span class="hl-0">  }</span><br/><br/><span class="hl-0">  </span><span class="hl-8">// this will always fire whenever queries are run against the model</span><br/><span class="hl-0">  @</span><span class="hl-7">Scope</span><span class="hl-0">({ </span><span class="hl-1">default:</span><span class="hl-0"> </span><span class="hl-5">true</span><span class="hl-0"> })</span><br/><span class="hl-0">  </span><span class="hl-5">public</span><span class="hl-0"> </span><span class="hl-5">static</span><span class="hl-0"> </span><span class="hl-7">hideDeleted</span><span class="hl-0">(</span><span class="hl-1">query</span><span class="hl-0">: </span><span class="hl-9">any</span><span class="hl-0">) {</span><br/><span class="hl-0">    </span><span class="hl-6">return</span><span class="hl-0"> </span><span class="hl-1">query</span><span class="hl-0">.</span><span class="hl-7">where</span><span class="hl-0">({ </span><span class="hl-1">deleted_at:</span><span class="hl-0"> </span><span class="hl-5">null</span><span class="hl-0"> })</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">}</span><br/><br/><span class="hl-1">User</span><span class="hl-0">.</span><span class="hl-7">scope</span><span class="hl-0">(</span><span class="hl-4">&#39;withFunnyName&#39;</span><span class="hl-0">)</span><br/><span class="hl-8">// will only return records with the name &quot;Chalupas jr&quot;</span>
</code><button>Copy</button></pre>
<a id="md:repl" class="tsd-anchor"></a><h3><a href="#md:repl">REPL</a></h3><p>the repl will open a console, exposing access to the test app models that are built into the framework.
this test app is used to run all of our assertions, and is meant to be replaced by an actual app consuming this ORM.</p>
<p>to get into the console, type:</p>
<pre><code class="language-bash"><span class="hl-0">yarn </span><span class="hl-4">console</span>
</code><button>Copy</button></pre>
<p>Once inside the repl, you are able to access all the models within the test app. All the classes are automagically imported.</p>
<pre><code class="language-ts"><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-2">user</span><span class="hl-0"> = </span><span class="hl-6">await</span><span class="hl-0"> </span><span class="hl-1">User</span><span class="hl-0">.</span><span class="hl-7">create</span><span class="hl-0">({ </span><span class="hl-1">email:</span><span class="hl-0"> </span><span class="hl-4">&#39;hello@there&#39;</span><span class="hl-0">, </span><span class="hl-1">password:</span><span class="hl-0"> </span><span class="hl-4">&#39;howyadoin&#39;</span><span class="hl-0"> })</span><br/><span class="hl-1">user</span><span class="hl-0">.</span><span class="hl-1">email</span><span class="hl-0"> = </span><span class="hl-4">&#39;fred@flinstone&#39;</span><br/><span class="hl-6">await</span><span class="hl-0"> </span><span class="hl-1">user</span><span class="hl-0">.</span><span class="hl-7">save</span><span class="hl-0">()</span>
</code><button>Copy</button></pre>
<a id="md:specs" class="tsd-anchor"></a><h3><a href="#md:specs">Specs</a></h3><p>Running specs is very easy, not much to explain here.</p>
<pre><code><span class="hl-1">yarn</span><span class="hl-0"> </span><span class="hl-1">spec</span>
</code><button>Copy</button></pre>
<p>We are using jest under the hood, and have a plugin enabled called <code>jest-plugin-context</code>, which allows us to branch specs out using the <code>context</code> function in place of <code>describe</code>, like so:</p>
<pre><code class="language-ts"><span class="hl-7">describe</span><span class="hl-0">(</span><span class="hl-4">&#39;Dream#pluck&#39;</span><span class="hl-0">, () </span><span class="hl-5">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-5">let</span><span class="hl-0"> </span><span class="hl-1">user1</span><span class="hl-0">: </span><span class="hl-9">User</span><br/><span class="hl-0">  </span><span class="hl-5">let</span><span class="hl-0"> </span><span class="hl-1">user2</span><span class="hl-0">: </span><span class="hl-9">User</span><br/><span class="hl-0">  </span><span class="hl-7">beforeEach</span><span class="hl-0">(</span><span class="hl-5">async</span><span class="hl-0"> () </span><span class="hl-5">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">user1</span><span class="hl-0"> = </span><span class="hl-6">await</span><span class="hl-0"> </span><span class="hl-1">User</span><span class="hl-0">.</span><span class="hl-7">create</span><span class="hl-0">({ </span><span class="hl-1">email:</span><span class="hl-0"> </span><span class="hl-4">&#39;fred@frewd&#39;</span><span class="hl-0">, </span><span class="hl-1">password:</span><span class="hl-0"> </span><span class="hl-4">&#39;howyadoin&#39;</span><span class="hl-0"> })</span><br/><span class="hl-0">    </span><span class="hl-1">user2</span><span class="hl-0"> = </span><span class="hl-6">await</span><span class="hl-0"> </span><span class="hl-1">User</span><span class="hl-0">.</span><span class="hl-7">create</span><span class="hl-0">({ </span><span class="hl-1">email:</span><span class="hl-0"> </span><span class="hl-4">&#39;how@yadoin&#39;</span><span class="hl-0">, </span><span class="hl-1">password:</span><span class="hl-0"> </span><span class="hl-4">&#39;howyadoin&#39;</span><span class="hl-0"> })</span><br/><span class="hl-0">  })</span><br/><br/><span class="hl-0">  </span><span class="hl-7">it</span><span class="hl-0">(</span><span class="hl-4">&#39;plucks the specified attributes and returns them as raw data&#39;</span><span class="hl-0">, </span><span class="hl-5">async</span><span class="hl-0"> () </span><span class="hl-5">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-2">records</span><span class="hl-0"> = </span><span class="hl-6">await</span><span class="hl-0"> </span><span class="hl-1">User</span><span class="hl-0">.</span><span class="hl-7">pluck</span><span class="hl-0">(</span><span class="hl-4">&#39;id&#39;</span><span class="hl-0">)</span><br/><span class="hl-0">    </span><span class="hl-7">expect</span><span class="hl-0">(</span><span class="hl-1">records</span><span class="hl-0">).</span><span class="hl-7">toEqual</span><span class="hl-0">([</span><span class="hl-1">user1</span><span class="hl-0">.</span><span class="hl-1">id</span><span class="hl-0">, </span><span class="hl-1">user2</span><span class="hl-0">.</span><span class="hl-1">id</span><span class="hl-0">])</span><br/><span class="hl-0">  })</span><br/><br/><span class="hl-0">  </span><span class="hl-7">context</span><span class="hl-0">(</span><span class="hl-4">&#39;with multiple fields&#39;</span><span class="hl-0">, () </span><span class="hl-5">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-7">it</span><span class="hl-0">(</span><span class="hl-4">&#39;should return multi-dimensional array&#39;</span><span class="hl-0">, </span><span class="hl-5">async</span><span class="hl-0"> () </span><span class="hl-5">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-2">records</span><span class="hl-0"> = </span><span class="hl-6">await</span><span class="hl-0"> </span><span class="hl-1">User</span><span class="hl-0">.</span><span class="hl-7">order</span><span class="hl-0">(</span><span class="hl-4">&#39;id&#39;</span><span class="hl-0">).</span><span class="hl-7">pluck</span><span class="hl-0">(</span><span class="hl-4">&#39;id&#39;</span><span class="hl-0">, </span><span class="hl-4">&#39;created_at&#39;</span><span class="hl-0">)</span><br/><span class="hl-0">      </span><span class="hl-7">expect</span><span class="hl-0">(</span><span class="hl-1">records</span><span class="hl-0">).</span><span class="hl-7">toEqual</span><span class="hl-0">([</span><br/><span class="hl-0">        [</span><span class="hl-1">user1</span><span class="hl-0">.</span><span class="hl-1">id</span><span class="hl-0">, </span><span class="hl-1">user1</span><span class="hl-0">.</span><span class="hl-1">created_at</span><span class="hl-0">],</span><br/><span class="hl-0">        [</span><span class="hl-1">user2</span><span class="hl-0">.</span><span class="hl-1">id</span><span class="hl-0">, </span><span class="hl-1">user2</span><span class="hl-0">.</span><span class="hl-1">created_at</span><span class="hl-0">],</span><br/><span class="hl-0">      ])</span><br/><span class="hl-0">    })</span><br/><span class="hl-0">  })</span><br/><span class="hl-0">})</span>
</code><button>Copy</button></pre>
<a id="md:cli" class="tsd-anchor"></a><h3><a href="#md:cli">CLI</a></h3><pre><code class="language-bash"><span class="hl-0">yarn </span><span class="hl-4">build</span><br/><span class="hl-8"># builds source code using the typescript compiler, sending it into the dist folder</span><br/><br/><span class="hl-0">yarn </span><span class="hl-4">spec</span><br/><span class="hl-8"># runs core development specs (same as yarn dream spec --core)</span><br/><br/><span class="hl-0">yarn </span><span class="hl-4">console</span><br/><span class="hl-8"># opens console, providing access to the internal test-app/app/models folder (same as yarn dream console --core)</span><br/><br/><span class="hl-0">yarn </span><span class="hl-4">dream</span><br/><span class="hl-8"># opens a small node cli program, which right now only provides commands for generating dreams and migrations,</span><br/><span class="hl-8"># but which will likely eventually encompass all of the above commands</span><br/><br/><span class="hl-0">yarn </span><span class="hl-4">dream</span><span class="hl-0"> </span><span class="hl-4">db:migrate</span><span class="hl-0"> </span><span class="hl-4">--core</span><br/><span class="hl-8"># runs migrations for core development. Use this if you are working on the dream ORM source code.</span><br/><br/><span class="hl-0">yarn </span><span class="hl-4">dream</span><span class="hl-0"> </span><span class="hl-4">db:migrate</span><br/><span class="hl-8"># runs migrations for an app that is consuming the dream ORM. This is meant to be run from another repo,</span><br/><span class="hl-8"># e.g. within a different app&#39;s package.json:</span><br/><span class="hl-8">#</span><br/><span class="hl-8">#  &quot;scripts&quot;: {</span><br/><span class="hl-8">#     &quot;db:migrate&quot;: &quot;yarn --cwd=node_modules/dream db:migrate&quot;</span><br/><span class="hl-8"># }</span><br/><br/><span class="hl-0">yarn </span><span class="hl-4">dream</span><span class="hl-0"> </span><span class="hl-4">sync:schema</span><br/><span class="hl-8"># syncs db schema from an app that is consuming the dream ORM. This is necessary, because in order to provide</span><br/><span class="hl-8"># deep integration with kysely, we must actually introspect the schema of your app and provide it</span><br/><span class="hl-8"># as part of the dream orm source code build. It essentially scans your database, examines all tables, outputs interfaces that kysely can consume, puts them into a file, and exports all the interfaces within that file.</span><br/><br/><span class="hl-8"># the sync command is already run as part of the migration sequence, so there should be no need to</span><br/><span class="hl-8"># run it manually. Simply run migrations to have the syncing done for you.</span><br/><br/><span class="hl-8"># A copy of this is output to your app (though don&#39;t bother manually modifying it, since it is blown away each</span><br/><span class="hl-8"># time you run migrations). It is then copied over to the node_modules/dream/src/sync folder, so that importing</span><br/><span class="hl-8"># the dream orm can provide that integration for you.</span><br/><br/><span class="hl-8"># This is meant to be run from another repo,</span><br/><span class="hl-8"># e.g. within a different app&#39;s package.json:</span><br/><span class="hl-8">#</span><br/><span class="hl-8">#  &quot;scripts&quot;: {</span><br/><span class="hl-8">#     &quot;sync:schema&quot;: &quot;yarn --cwd=node_modules/dream sync:schema&quot;</span><br/><span class="hl-8"># }</span><br/><br/><span class="hl-0">yarn </span><span class="hl-4">dream</span><span class="hl-0"> </span><span class="hl-4">sync:schema</span><span class="hl-0"> </span><span class="hl-4">--core</span><br/><span class="hl-8"># runs the same sync script mentioned above, but for core development. You would run this if you were trying to</span><br/><span class="hl-8"># sync for the test-app, which is used to seed the local tests and provide models for use within the console.</span><br/><span class="hl-8"># Similar to above, a local copy of schema is kept within test-app/db/schema.ts, which is updated each time you</span><br/><span class="hl-8"># run yarn core:db:migrate.</span><br/><br/><span class="hl-0">yarn </span><span class="hl-4">dream</span><span class="hl-0"> </span><span class="hl-4">sync:associations</span><br/><span class="hl-8"># runs a script which analyzes your models, building a mapping of the associations into typescript interfaces</span><br/><span class="hl-8"># which will assist in providing enforced type completion mechanisms at the code composition level. This must be</span><br/><span class="hl-8"># this is used by the underlying `load` method, as well as `preload` and `joins` methods within the query</span><br/><span class="hl-8"># building layer. This is all copied to the file specified in the `.dream.yml#associations_path`. This is also automatically done whenever you run migrations, run specs, or open a console</span><br/><br/><span class="hl-0">yarn </span><span class="hl-4">dream</span><span class="hl-0"> </span><span class="hl-4">sync:associations</span><span class="hl-0"> </span><span class="hl-4">--core</span><br/><span class="hl-8"># same as above, but copies the associations.ts file to test-app/db/associations.ts</span><br/><br/><span class="hl-0">yarn </span><span class="hl-4">dream</span><span class="hl-0"> </span><span class="hl-4">db:drop</span><span class="hl-0"> </span><span class="hl-4">--core</span><br/><span class="hl-8"># drops the db for either the core app or a consuming app (which is why there is no &quot;core:db:drop&quot; variant)</span><br/><br/><span class="hl-0">yarn </span><span class="hl-4">dream</span><span class="hl-0"> </span><span class="hl-4">db:create</span><span class="hl-0"> </span><span class="hl-4">--core</span><br/><span class="hl-8"># creates the db for either the core app or a consuming app (which is why there is no &quot;core:db:create&quot; variant)</span>
</code><button>Copy</button></pre>
<a id="md:contributing" class="tsd-anchor"></a><h3><a href="#md:contributing">Contributing</a></h3><p>Though the spec framework isn&#39;t entirely comprehensive, this application was built with a BDD philosophy guiding its foundation, using tests that actually excercize the ORM from front to back, rather than relying on lot&#39;s of stubbing of internal modules.</p>
<p>Though the specs are not technically unit tests in the traditional sense, they are all located under <code>spec/unit</code>, and resemble unit tests in their file structure, since there is generally a file for each method on a class. If you are contributing to this project, it will probably in the form of either adding or augmenting the functionality of existing methods, so it should be relatively easy to jump in and not make a mess. If you are adding a new method, you should be adding a new file for it. If it is new behavior on an existing method, you can add context blocks within that method spec file to expand on the behavior of that method. Static and instance methods with the same name should be in the same file, but contextualized differently, though this should rarely happen.</p>
<p>I am not writing tests for internal functions for the most part, though if you find yourself writing something particularly complex, feel free to find a home in the <code>spec/unit</code> folder somewhere for it (probably in the <code>spec/unit/helpers</code> folder, since that is where I will put specs for helpers I have written when I feel the need to test them).</p>
<p>In terms of setup, you will need to run a few commands to get the environment set up. The commands are the same as those used when you are developing in a real dream app, but you have to pass the <code>--core</code> suffix to get the correct behavior. After installing dream on your machine, you will need to first set up a .env and .env.test file (same as in a real dream app), and you will need to make sure to add an extra flag called <code>DREAM_CORE_DEVELOPMENT</code>, setting it to <code>1</code>.</p>
<pre><code><span class="hl-2">DREAM_CORE_DEVELOPMENT</span><span class="hl-0">=</span><span class="hl-3">1</span><br/><span class="hl-2">DB_USER</span><span class="hl-0">=</span><span class="hl-2">YOUR_LOCAL_DB_USERNAME</span><br/><span class="hl-2">DB_NAME</span><span class="hl-0">=</span><span class="hl-1">dream_core_dev</span><br/><span class="hl-2">DB_PORT</span><span class="hl-0">=</span><span class="hl-3">5432</span><br/><span class="hl-2">DB_HOST</span><span class="hl-0">=</span><span class="hl-1">localhost</span>
</code><button>Copy</button></pre>
<p>Once done, you can run the following commands to get up and running:</p>
<pre><code class="language-bash"><span class="hl-0">psy </span><span class="hl-4">db:create</span><span class="hl-0"> </span><span class="hl-4">--core</span><br/><span class="hl-1">NODE_ENV</span><span class="hl-0">=</span><span class="hl-4">test</span><span class="hl-0"> psy db:create --core</span><br/><br/><span class="hl-0">psy </span><span class="hl-4">db:migrate</span><span class="hl-0"> </span><span class="hl-4">--core</span><br/><span class="hl-1">NODE_ENV</span><span class="hl-0">=</span><span class="hl-4">test</span><span class="hl-0"> psy db:migrate --core</span>
</code><button>Copy</button></pre>
<a id="md:generating-type-docs" class="tsd-anchor"></a><h4><a href="#md:generating-type-docs">Generating type docs:</a></h4><pre><code class="language-bash"><span class="hl-8"># first, you will need to update package.json version, in order to keep</span><br/><span class="hl-8"># docs generated on a per-version basis</span><br/><span class="hl-0">yarn </span><span class="hl-4">build:docs</span>
</code><button>Copy</button></pre>
<a id="md:hidden-gotchas" class="tsd-anchor"></a><h4><a href="#md:hidden-gotchas">Hidden gotchas</a></h4><ul>
<li>STI descendants of the same root model that define the same association must define that association identically if they are used in joins, preload, or load. For example, the following will not work properly:</li>
</ul>
<pre><code class="language-ts"><span class="hl-0">@</span><span class="hl-7">STI</span><span class="hl-0">(</span><span class="hl-2">A</span><span class="hl-0">)</span><br/><span class="hl-5">class</span><span class="hl-0"> </span><span class="hl-9">B</span><span class="hl-0"> </span><span class="hl-5">extends</span><span class="hl-0"> </span><span class="hl-9">A</span><span class="hl-0"> {</span><br/><span class="hl-0">  @</span><span class="hl-7">HasMany</span><span class="hl-0">(() </span><span class="hl-5">=&gt;</span><span class="hl-0"> </span><span class="hl-2">X</span><span class="hl-0">)</span><br/><span class="hl-0">  </span><span class="hl-5">public</span><span class="hl-0"> </span><span class="hl-1">xx</span><span class="hl-0">: </span><span class="hl-9">X</span><span class="hl-0">[]</span><br/><span class="hl-0">}</span><br/><br/><span class="hl-0">@</span><span class="hl-7">STI</span><span class="hl-0">(</span><span class="hl-2">A</span><span class="hl-0">)</span><br/><span class="hl-5">class</span><span class="hl-0"> </span><span class="hl-9">C</span><span class="hl-0"> </span><span class="hl-5">extends</span><span class="hl-0"> </span><span class="hl-9">A</span><span class="hl-0"> {</span><br/><span class="hl-0">  @</span><span class="hl-7">HasMany</span><span class="hl-0">(() </span><span class="hl-5">=&gt;</span><span class="hl-0"> </span><span class="hl-2">X</span><span class="hl-0">, { </span><span class="hl-1">where:</span><span class="hl-0"> { </span><span class="hl-1">something:</span><span class="hl-0"> </span><span class="hl-5">true</span><span class="hl-0"> } })</span><br/><span class="hl-0">  </span><span class="hl-5">public</span><span class="hl-0"> </span><span class="hl-1">xx</span><span class="hl-0">: </span><span class="hl-9">X</span><span class="hl-0">[]</span><br/><span class="hl-0">}</span><br/><br/><span class="hl-5">class</span><span class="hl-0"> </span><span class="hl-9">Z</span><span class="hl-0"> </span><span class="hl-5">extends</span><span class="hl-0"> </span><span class="hl-9">Dream</span><span class="hl-0"> {</span><br/><span class="hl-0">  @</span><span class="hl-7">HasMany</span><span class="hl-0">(() </span><span class="hl-5">=&gt;</span><span class="hl-0"> </span><span class="hl-2">A</span><span class="hl-0">)</span><br/><span class="hl-0">  </span><span class="hl-5">public</span><span class="hl-0"> </span><span class="hl-1">aa</span><span class="hl-0">: </span><span class="hl-9">A</span><span class="hl-0">[]</span><br/><span class="hl-0">}</span><br/><br/><span class="hl-8">// this will not work as expected because the HasMany(() =&gt; X) are defined differently</span><br/><span class="hl-6">await</span><span class="hl-0"> </span><span class="hl-1">z</span><span class="hl-0">.</span><span class="hl-7">load</span><span class="hl-0">({ </span><span class="hl-1">aa:</span><span class="hl-0"> </span><span class="hl-4">&#39;xx&#39;</span><span class="hl-0"> }).</span><span class="hl-7">execute</span><span class="hl-0">()</span>
</code><button>Copy</button></pre>
</div></div>
<div class="col-sidebar">
<div class="page-menu">
<div class="tsd-navigation settings">
<details class="tsd-index-accordion"><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg>Settings</h3></summary>
<div class="tsd-accordion-details">
<div class="tsd-filter-visibility">
<h4 class="uppercase">Member Visibility</h4><form>
<ul id="tsd-filter-options">
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div>
<div class="tsd-theme-toggle">
<h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div>
<details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg>On This Page</h3></summary>
<div class="tsd-accordion-details">
<ul>
<li>
<ul>
<li><a href="#md:dream-orm"><span>dream ORM</span></a></li>
<li>
<ul>
<li><a href="#md:getting-started"><span>Getting started</span></a></li>
<li>
<ul>
<li><a href="#md:install-nodenv"><span>Install nodenv</span></a></li>
<li><a href="#md:add-env-files"><span>Add ENV files</span></a></li>
<li><a href="#md:build-db-and-sync-schema"><span>Build db and sync schema</span></a></li></ul></li>
<li><a href="#md:features"><span>Features</span></a></li>
<li>
<ul>
<li><a href="#md:repl"><span>REPL</span></a></li>
<li><a href="#md:specs"><span>Specs</span></a></li>
<li><a href="#md:cli"><span>CLI</span></a></li>
<li><a href="#md:contributing"><span>Contributing</span></a></li>
<li>
<ul>
<li><a href="#md:generating-type-docs"><span>Generating type docs:</span></a></li>
<li><a href="#md:hidden-gotchas"><span>Hidden gotchas</span></a></li></ul></li></ul></li></ul></li></ul></li></ul></div></details></div>
<div class="site-menu">
<nav class="tsd-navigation"><a href="modules.html" class="current"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-namespace)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6" id="icon-4-path"></rect><path d="M9.33 16V7.24H10.77L13.446 14.74C13.43 14.54 13.41 14.296 13.386 14.008C13.37 13.712 13.354 13.404 13.338 13.084C13.33 12.756 13.326 12.448 13.326 12.16V7.24H14.37V16H12.93L10.266 8.5C10.282 8.692 10.298 8.936 10.314 9.232C10.33 9.52 10.342 9.828 10.35 10.156C10.366 10.476 10.374 10.784 10.374 11.08V16H9.33Z" fill="var(--color-text)" id="icon-4-text"></path></svg><span>dream</span></a>
<ul class="tsd-small-nested-navigation">
<li><a href="classes/Dream.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-class)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6" id="icon-128-path"></rect><path d="M11.898 16.1201C11.098 16.1201 10.466 15.8961 10.002 15.4481C9.53803 15.0001 9.30603 14.3841 9.30603 13.6001V9.64012C9.30603 8.85612 9.53803 8.24012 10.002 7.79212C10.466 7.34412 11.098 7.12012 11.898 7.12012C12.682 7.12012 13.306 7.34812 13.77 7.80412C14.234 8.25212 14.466 8.86412 14.466 9.64012H13.386C13.386 9.14412 13.254 8.76412 12.99 8.50012C12.734 8.22812 12.37 8.09212 11.898 8.09212C11.426 8.09212 11.054 8.22412 10.782 8.48812C10.518 8.75212 10.386 9.13212 10.386 9.62812V13.6001C10.386 14.0961 10.518 14.4801 10.782 14.7521C11.054 15.0161 11.426 15.1481 11.898 15.1481C12.37 15.1481 12.734 15.0161 12.99 14.7521C13.254 14.4801 13.386 14.0961 13.386 13.6001H14.466C14.466 14.3761 14.234 14.9921 13.77 15.4481C13.306 15.8961 12.682 16.1201 11.898 16.1201Z" fill="var(--color-text)" id="icon-128-text"></path></svg><span>Dream</span></a></li>
<li><a href="classes/DreamSerializer.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-128-path"></use><use href="#icon-128-text"></use></svg><span>Dream<wbr/>Serializer</span></a></li>
<li><a href="classes/DreamTransaction.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-128-path"></use><use href="#icon-128-text"></use></svg><span>Dream<wbr/>Transaction</span></a></li>
<li><a href="classes/Query.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-128-path"></use><use href="#icon-128-text"></use></svg><span>Query</span></a></li>
<li><a href="classes/Range.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-128-path"></use><use href="#icon-128-text"></use></svg><span>Range</span></a></li>
<li><a href="classes/ValidationError.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-128-path"></use><use href="#icon-128-text"></use></svg><span>Validation<wbr/>Error</span></a></li>
<li><a href="types/IdType.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-type-alias)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6" id="icon-4194304-path"></rect><path d="M11.31 16V8.224H8.91V7.24H14.79V8.224H12.39V16H11.31Z" fill="var(--color-text)" id="icon-4194304-text"></path></svg><span>Id<wbr/>Type</span></a></li>
<li><a href="types/RoundingPrecision.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-4194304-path"></use><use href="#icon-4194304-text"></use></svg><span>Rounding<wbr/>Precision</span></a></li>
<li><a href="types/Timestamp.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-4194304-path"></use><use href="#icon-4194304-text"></use></svg><span>Timestamp</span></a></li>
<li><a href="types/UpdateableColumns.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-4194304-path"></use><use href="#icon-4194304-text"></use></svg><span>Updateable<wbr/>Columns</span></a></li>
<li><a href="types/UpdateableProperties.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-4194304-path"></use><use href="#icon-4194304-text"></use></svg><span>Updateable<wbr/>Properties</span></a></li>
<li><a href="variables/ops.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-variable)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6" id="icon-32-path"></rect><path d="M11.106 16L8.85 7.24H9.966L11.454 13.192C11.558 13.608 11.646 13.996 11.718 14.356C11.79 14.708 11.842 14.976 11.874 15.16C11.906 14.976 11.954 14.708 12.018 14.356C12.09 13.996 12.178 13.608 12.282 13.192L13.758 7.24H14.85L12.582 16H11.106Z" fill="var(--color-text)" id="icon-32-text"></path></svg><span>ops</span></a></li>
<li><a href="functions/AfterCreate.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-function)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6" id="icon-64-path"></rect><path d="M9.39 16V7.24H14.55V8.224H10.446V11.128H14.238V12.112H10.47V16H9.39Z" fill="var(--color-text)" id="icon-64-text"></path></svg><span>After<wbr/>Create</span></a></li>
<li><a href="functions/AfterCreateCommit.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>After<wbr/>Create<wbr/>Commit</span></a></li>
<li><a href="functions/AfterDestroy.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>After<wbr/>Destroy</span></a></li>
<li><a href="functions/AfterDestroyCommit.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>After<wbr/>Destroy<wbr/>Commit</span></a></li>
<li><a href="functions/AfterSave.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>After<wbr/>Save</span></a></li>
<li><a href="functions/AfterSaveCommit.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>After<wbr/>Save<wbr/>Commit</span></a></li>
<li><a href="functions/AfterUpdate.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>After<wbr/>Update</span></a></li>
<li><a href="functions/AfterUpdateCommit.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>After<wbr/>Update<wbr/>Commit</span></a></li>
<li><a href="functions/Attribute.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>Attribute</span></a></li>
<li><a href="functions/BeforeCreate.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>Before<wbr/>Create</span></a></li>
<li><a href="functions/BeforeDestroy.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>Before<wbr/>Destroy</span></a></li>
<li><a href="functions/BeforeSave.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>Before<wbr/>Save</span></a></li>
<li><a href="functions/BeforeUpdate.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>Before<wbr/>Update</span></a></li>
<li><a href="functions/BelongsTo.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>Belongs<wbr/>To</span></a></li>
<li><a href="functions/Delegate.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>Delegate</span></a></li>
<li><a href="functions/HasMany.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>Has<wbr/>Many</span></a></li>
<li><a href="functions/HasOne.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>Has<wbr/>One</span></a></li>
<li><a href="functions/RendersMany.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>Renders<wbr/>Many</span></a></li>
<li><a href="functions/RendersOne.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>Renders<wbr/>One</span></a></li>
<li><a href="functions/STI.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>STI</span></a></li>
<li><a href="functions/Scope.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>Scope</span></a></li>
<li><a href="functions/Validates.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>Validates</span></a></li>
<li><a href="functions/Virtual.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>Virtual</span></a></li>
<li><a href="functions/camelize.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>camelize</span></a></li>
<li><a href="functions/capitalize.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>capitalize</span></a></li>
<li><a href="functions/compact.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>compact</span></a></li>
<li><a href="functions/db.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>db</span></a></li>
<li><a href="functions/developmentOrTestEnv.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>development<wbr/>Or<wbr/>Test<wbr/>Env</span></a></li>
<li><a href="functions/hyphenize.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>hyphenize</span></a></li>
<li><a href="functions/pascalize.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>pascalize</span></a></li>
<li><a href="functions/range-1.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>range</span></a></li>
<li><a href="functions/round.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>round</span></a></li>
<li><a href="functions/snakeify.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>snakeify</span></a></li>
<li><a href="functions/uncapitalize.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>uncapitalize</span></a></li>
<li><a href="functions/uniq.html"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg><span>uniq</span></a></li></ul></nav></div></div></div>
<div class="tsd-generator">
<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div>
<div class="overlay"></div></body></html>